diff -ru wanpipe-7.0.38-a/patches/kdrivers/src/net/wanpipe_cdev_linux.c wanpipe-7.0.38/patches/kdrivers/src/net/wanpipe_cdev_linux.c
--- telephony-kmods-a/wanpipe-7.0.38/patches/kdrivers/src/net/wanpipe_cdev_linux.c	2024-05-14 11:36:31.284390203 +0100
+++ telephony-kmods-b/wanpipe-7.0.38/patches/kdrivers/src/net/wanpipe_cdev_linux.c	2024-05-14 11:33:16.444527674 +0100
@@ -211,7 +211,7 @@
 		return -EINVAL;
 	}

-	wp_cdev_class = class_create(THIS_MODULE, "wanpipe");
+	wp_cdev_class = class_create("wanpipe");
 	if (IS_ERR(wp_cdev_class)) {
 		DEBUG_ERROR("%s(): Error creating class!\n",__FUNCTION__);
 		cdev_del(&wp_cdev_dev);

diff -ru wanpipe-7.0.38-a/patches/kdrivers/wanec/wanec_dev.c wanpipe-7.0.38/patches/kdrivers/wanec/wanec_dev.c
--- telephony-kmods-a/wanpipe-7.0.38/patches/kdrivers/wanec/wanec_dev.c	2024-05-14 11:33:16.431527616 +0100
+++ telephony-kmods-b/wanpipe-7.0.38/patches/kdrivers/wanec/wanec_dev.c	2024-05-14 11:50:12.270029929 +0100
@@ -139,7 +139,7 @@

 	DEBUG_EVENT("%s: Registering Wanpipe ECDEV Device!\n",__FUNCTION__);
 #ifdef WP_ECDEV_UDEV
-	wanec_dev_class = class_create(THIS_MODULE, "wp_ec");
+	wanec_dev_class = class_create("wp_ec");
 #endif

 #ifdef WP_CONFIG_DEVFS_FS

diff -ru wanpipe-7.0.38-a/patches/kdrivers/src/wanrouter/af_wanpipe.c wanpipe-7.0.38/patches/kdrivers/src/wanrouter/af_wanpipe.c
--- telephony-kmods-a/wanpipe-7.0.38/patches/kdrivers/src/wanrouter/af_wanpipe.c	2008-08-01 04:30:00.000000000 +0100
+++ telephony-kmods-b/wanpipe-7.0.38/patches/kdrivers/src/wanrouter/af_wanpipe.c	2025-05-22 16:30:48.439101966 +0100

@@ -2122,21 +2122,10 @@

 #if defined(LINUX_2_6)
-struct proto_ops wanpipe_ops = {
-	.family 	=PF_WANPIPE,
-	.owner		=THIS_MODULE,
-	.release 	=wanpipe_release,
-	.bind		=wanpipe_bind,
-	.connect 	=wanpipe_connect,
-	.socketpair 	=sock_no_socketpair,
-	.accept 	=wanpipe_accept,
-	.getname 	=wanpipe_getname,
-	.poll 		=wanpipe_poll,
-	.ioctl 		=wanpipe_ioctl,
 #ifdef CONFIG_COMPAT
 	.compat_ioctl 	=wanpipe_ioctl,
 #endif
-	.listen 	=wanpipe_listen,
+	.listen 	=wanpipe_listen,
 	.shutdown 	=sock_no_shutdown,
 	.setsockopt 	=sock_no_setsockopt,
 	.getsockopt	=sock_no_getsockopt,
